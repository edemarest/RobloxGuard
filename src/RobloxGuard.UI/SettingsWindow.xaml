<Window x:Class="RobloxGuard.UI.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="RobloxGuard Settings"
        WindowStartupLocation="CenterScreen"
        Width="700"
        Height="600"
        Background="#F5F5F5">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="60"/>
        </Grid.RowDefinitions>

        <!-- Tabs -->
        <TabControl Grid.Row="0" Margin="0">
            
            <!-- PIN Tab -->
            <TabItem Header="🔐 Parent PIN" Height="30" Padding="15,5">
                <StackPanel Margin="20" VerticalAlignment="Top" Width="400" HorizontalAlignment="Left">
                    <TextBlock Text="Set or Change Parent PIN"
                               FontSize="16"
                               FontWeight="Bold"
                               Foreground="#333333"
                               Margin="0,0,0,15"/>
                    
                    <TextBlock Text="Current PIN is " Foreground="#666666" Margin="0,0,0,10">
                        <Run x:Name="PinStatusText" FontWeight="Bold" Foreground="#27AE60">SET</Run>
                    </TextBlock>
                    
                    <TextBlock Text="New PIN (4+ digits):" Foreground="#666666" Margin="0,0,0,5"/>
                    <PasswordBox x:Name="NewPinInput"
                                 Height="35"
                                 Padding="10"
                                 FontSize="14"
                                 Margin="0,0,0,15"/>
                    
                    <TextBlock Text="Confirm PIN:" Foreground="#666666" Margin="0,0,0,5"/>
                    <PasswordBox x:Name="ConfirmPinInput"
                                 Height="35"
                                 Padding="10"
                                 FontSize="14"
                                 Margin="0,0,0,15"/>
                    
                    <TextBlock x:Name="PinErrorMessage"
                               Text=""
                               Foreground="#E74C3C"
                               FontSize="11"
                               Margin="0,0,0,10"
                               TextWrapping="Wrap"
                               MinHeight="20"/>
                    
                    <Button x:Name="SetPinButton"
                            Content="Save PIN"
                            Foreground="White"
                            Background="#27AE60"
                            BorderThickness="0"
                            Height="40"
                            FontSize="13"
                            FontWeight="Bold"
                            Click="SetPinButton_Click"
                            Cursor="Hand"/>
                </StackPanel>
            </TabItem>

            <!-- Blocklist Tab -->
            <TabItem Header="🚫 Blocked Games" Height="30" Padding="15,5">
                <StackPanel Margin="20" VerticalAlignment="Top" Width="400" HorizontalAlignment="Left">
                    <TextBlock Text="Manage Blocked Games"
                               FontSize="16"
                               FontWeight="Bold"
                               Foreground="#333333"
                               Margin="0,0,0,15"/>
                    
                    <TextBlock Text="Mode:" Foreground="#666666" Margin="0,0,0,5"/>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                        <RadioButton x:Name="BlacklistMode"
                                     Content="Blacklist (block specific games)"
                                     Foreground="#333333"
                                     Checked="ModeChanged"
                                     Margin="0,0,20,0"/>
                        <RadioButton x:Name="WhitelistMode"
                                     Content="Whitelist (allow only specific games)"
                                     Foreground="#333333"
                                     Checked="ModeChanged"/>
                    </StackPanel>
                    
                    <TextBlock Text="Blocked Games:" Foreground="#666666" Margin="0,0,0,5"/>
                    <ListBox x:Name="BlocklistBox"
                             Height="200"
                             Margin="0,0,0,10"
                             Background="White"
                             BorderBrush="#DDDDDD"
                             BorderThickness="1"/>
                    
                    <StackPanel Orientation="Horizontal">
                        <TextBox x:Name="PlaceIdInput"
                                 Height="35"
                                 Padding="10"
                                 Width="250"
                                 Foreground="#333333"
                                 Margin="0,0,10,0"/>
                        <Button x:Name="AddButton"
                                Content="Add"
                                Foreground="White"
                                Background="#3498DB"
                                BorderThickness="0"
                                Height="35"
                                Width="80"
                                FontSize="12"
                                FontWeight="Bold"
                                Click="AddButton_Click"
                                Cursor="Hand"
                                Margin="0,0,10,0"/>
                        <Button x:Name="RemoveButton"
                                Content="Remove"
                                Foreground="White"
                                Background="#E74C3C"
                                BorderThickness="0"
                                Height="35"
                                Width="80"
                                FontSize="12"
                                FontWeight="Bold"
                                Click="RemoveButton_Click"
                                Cursor="Hand"
                                Margin="0,0,0,0"/>
                    </StackPanel>
                </StackPanel>
            </TabItem>

            <!-- Settings Tab -->
            <TabItem Header="⚙️ Settings" Height="30" Padding="15,5">
                <StackPanel Margin="20" VerticalAlignment="Top" Width="400" HorizontalAlignment="Left">
                    <TextBlock Text="Settings"
                               FontSize="16"
                               FontWeight="Bold"
                               Foreground="#333333"
                               Margin="0,0,0,15"/>
                    
                    <CheckBox x:Name="OverlayCheckBox"
                              Content="Enable overlay UI when blocking"
                              Foreground="#333333"
                              Margin="0,0,0,10"/>
                    
                    <CheckBox x:Name="WatcherCheckBox"
                              Content="Enable background process watcher"
                              Foreground="#333333"
                              Margin="0,0,0,0"/>
                    
                    <Separator Margin="0,10,0,10"/>
                    
                    <TextBlock Text="Application Data"
                               FontSize="12"
                               FontWeight="Bold"
                               Foreground="#666666"
                               Margin="0,0,0,10"/>
                    
                    <TextBlock x:Name="ConfigPathText"
                               Text="Config path: ..."
                               FontSize="11"
                               Foreground="#999999"
                               TextWrapping="Wrap"
                               Margin="0,0,0,10"/>
                    
                    <Button Content="Open App Data Folder"
                            Foreground="White"
                            Background="#3498DB"
                            BorderThickness="0"
                            Height="35"
                            FontSize="12"
                            FontWeight="Bold"
                            Click="OpenAppDataButton_Click"
                            Cursor="Hand"
                            Margin="0,10,0,0"/>
                </StackPanel>
            </TabItem>

            <!-- About Tab -->
            <TabItem Header="ℹ️ About" Height="30" Padding="15,5">
                <StackPanel Margin="20" VerticalAlignment="Top">
                    <TextBlock Text="RobloxGuard"
                               FontSize="24"
                               FontWeight="Bold"
                               Foreground="#333333"
                               Margin="0,0,0,10"/>
                    
                    <TextBlock Text="Parental Control for Roblox"
                               FontSize="12"
                               Foreground="#666666"
                               Margin="0,0,0,5"/>
                    
                    <TextBlock Text="Version: 1.0.0-dev"
                               FontSize="11"
                               Foreground="#999999"
                               Margin="0,0,0,15"/>
                    
                    <Separator Margin="0,10"/>
                    
                    <TextBlock Text="Features:"
                               FontSize="12"
                               FontWeight="Bold"
                               Foreground="#333333"
                               Margin="0,10,0,10"/>
                    
                    <TextBlock Foreground="#666666" TextWrapping="Wrap">
                        • Block specific Roblox games by Place ID<LineBreak/>
                        • Secure PIN-based parent unlock<LineBreak/>
                        • Per-user installation (no admin required)<LineBreak/>
                        • Background process monitoring<LineBreak/>
                        • Out-of-process blocking (no injection)
                    </TextBlock>
                </StackPanel>
            </TabItem>
        </TabControl>

        <!-- Footer -->
        <StackPanel Grid.Row="1"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center"
                    Margin="20">
            
            <Button Content="Save &amp; Close"
                    Foreground="White"
                    Background="#27AE60"
                    BorderThickness="0"
                    Width="120"
                    Height="40"
                    FontSize="13"
                    FontWeight="Bold"
                    Click="SaveButton_Click"
                    Cursor="Hand"
                    Margin="0,0,10,0"/>
            
            <Button Content="Cancel"
                    Foreground="White"
                    Background="#95A5A6"
                    BorderThickness="0"
                    Width="120"
                    Height="40"
                    FontSize="13"
                    FontWeight="Bold"
                    Click="CancelButton_Click"
                    Cursor="Hand"/>
        </StackPanel>
    </Grid>
</Window>
